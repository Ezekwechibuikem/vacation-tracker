{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Leave {% block title %}
		{% endblock %}
	</title>
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
	<meta content="" name="description" />
	<meta content="" name="author" />

	<!-- ================== BEGIN core-css ================== -->
	<link href={% static 'assets/css/vendor.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/css/default/app.min.css' %} rel="stylesheet" />
	<!-- ================== END core-css ================== -->

	<!-- ================== BEGIN page-css ================== -->

	<link href={% static 'assets/plugins/jvectormap-next/jquery-jvectormap.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.css' %} rel="stylesheet" />

	<link href={% static 'assets/plugins/datatables.net-bs5/css/dataTables.bootstrap5.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/datatables.net-responsive-bs5/css/responsive.bootstrap5.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/datatables.net-colreorder-bs5/css/colReorder.bootstrap5.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/datatables.net-keytable-bs5/css/keyTable.bootstrap5.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/datatables.net-rowreorder-bs5/css/rowReorder.bootstrap5.min.css' %} rel="stylesheet" />
	<link href={% static 'assets/plugins/datatables.net-select-bs5/css/select.bootstrap5.min.css' %} rel="stylesheet" />
	<!-- ================== END page-css ================== -->

</head>

<body>
	<!-- BEGIN #loader -->
	<div id="loader" class="app-loader">
		<span class="spinner"></span>
	</div>
	<!-- END #loader -->
	<!-- BEGIN #app -->
	<div id="app" class="app app-header-fixed app-sidebar-fixed app-content-full-height">
		<!-- BEGIN #header -->
		<div id="header" class="app-header">
			{% include 'LeaveApp/partial/navbar.html' %}
		</div>
		<!-- END #header -->
		<!-- BEGIN #sidebar -->
		<div id="sidebar" class="app-sidebar" data-bs-theme="dark">
		<!-- <div id="sidebar" class="app-sidebar" data-bs-theme="success"> -->
			<!-- BEGIN scrollbar -->
			{% include 'LeaveApp/partial/sidebar.html' %}
			<!-- END scrollbar -->
		</div>
		<div class="app-sidebar-bg" data-bs-theme="dark"></div>
		<div class="app-sidebar-mobile-backdrop"><a href="#" data-dismiss="app-sidebar-mobile"
				class="stretched-link"></a></div>
		<!-- END #sidebar -->
		<!-- BEGIN #content -->
		<div id="content" class="app-content d-flex flex-column p-0">
			<!-- BEGIN content-container -->
			{% block content %}
			{% endblock %}
			<!-- END content-container -->
				<!-- BEGIN #footer -->
		<div id="footer" class="app-footer m-0" style="text-align: left;">
			Copyright &copy; 2023 PHIS3 <span style="float: right;">v1.0.0</span>
		</div>
		<!-- END #footer -->
		</div>
	
		<!-- END #content -->

		<!-- BEGIN scroll-top-btn -->
		<a href="javascript:;" class="btn btn-icon btn-circle btn-theme btn-scroll-to-top"
			data-toggle="scroll-to-top"><i class="fa fa-angle-up"></i></a>
		<!-- END scroll-top-btn -->
	</div>
	<!-- END #app -->

		<!-- ================== BEGIN core-js ================== -->
		<!-- <script src={% static 'assets/js/system.js' %}></script> -->
		<script src={% static 'assets/js/vendor.min.js' %}></script>
		<script src={% static 'assets/js/app.min.js' %}></script>
		<!-- ================== END core-js ================== -->
	
		<script src={% static 'assets/plugins/moment/min/moment.min.js' %}></script>
		<script src={% static 'assets/plugins/bootstrap-daterangepicker/daterangepicker.js' %}></script>
		<script src={% static 'assets/plugins/select2/dist/js/select2.min.js' %}></script>
		<script src={% static 'assets/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.js' %}></script>
		<script src={% static 'assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js' %}></script>
		
		{% comment %} <script src="../assets/plugins/ion-rangeslider/js/ion.rangeSlider.min.js"></script>
		<script src="../assets/plugins/jquery.maskedinput/src/jquery.maskedinput.js"></script>
		<script src="../assets/plugins/jquery-migrate/dist/jquery-migrate.min.js"></script>
		<script src="../assets/plugins/tag-it/js/tag-it.min.js"></script>
		<script src="../assets/plugins/clipboard/dist/clipboard.min.js"></script>
		<script src="../assets/plugins/spectrum-colorpicker2/dist/spectrum.min.js"></script>
		<script src="../assets/plugins/select-picker/dist/picker.min.js"></script> {% endcomment %}
	
		<!-- ================== BEGIN page-js ================== -->
		<script src={% static 'assets/plugins/gritter/js/jquery.gritter.js' %}></script>
		<script src={% static 'assets/plugins/sweetalert/dist/sweetalert.min.js' %}></script>
		<script src={% static 'assets/plugins/@highlightjs/cdn-assets/highlight.min.js' %}></script>
		<script src={% static 'assets/js/demo/render.highlight.js' %}></script>
		<script src={% static 'assets/js/demo/ui-modal-notification.demo.js' %}></script>
	
		<script src={% static 'assets/plugins/flot/source/jquery.canvaswrapper.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.colorhelpers.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.saturated.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.browser.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.drawSeries.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.uiConstants.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.time.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.resize.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.pie.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.crosshair.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.categories.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.navigate.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.touchNavigate.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.hover.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.touch.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.selection.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.symbol.js' %}></script>
		<script src={% static 'assets/plugins/flot/source/jquery.flot.legend.js' %}></script>
		<script src={% static 'assets/plugins/jquery-sparkline/jquery.sparkline.min.js' %}></script>
		<script src={% static 'assets/plugins/jvectormap-next/jquery-jvectormap.min.js' %}></script>
		<script src={% static 'assets/plugins/jvectormap-content/world-mill.js' %}></script>
		<script src={% static 'assets/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.js' %}></script>
	
		<script src={% static 'assets/plugins/datatables.net/js/jquery.dataTables.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-bs5/js/dataTables.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-responsive/js/dataTables.responsive.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-responsive-bs5/js/responsive.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-colreorder/js/dataTables.colReorder.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-colreorder-bs5/js/colReorder.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-keytable/js/dataTables.keyTable.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-keytable-bs5/js/keyTable.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-rowreorder/js/dataTables.rowReorder.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-rowreorder-bs5/js/rowReorder.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-select/js/dataTables.select.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-select-bs5/js/select.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-buttons/js/dataTables.buttons.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-buttons-bs5/js/buttons.bootstrap5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-buttons/js/buttons.colVis.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-buttons/js/buttons.flash.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-buttons/js/buttons.html5.min.js' %}></script>
		<script src={% static 'assets/plugins/datatables.net-buttons/js/buttons.print.min.js' %}></script>
		<script src={% static 'assets/plugins/pdfmake/build/pdfmake.min.js' %}></script>
		<script src={% static 'assets/plugins/pdfmake/build/vfs_fonts.js' %}></script>
		<script src={% static 'assets/plugins/jszip/dist/jszip.min.js' %}></script>
		<script src={% static 'assets/js/demo/table-manage-combine.demo.js' %}></script>
	
		{% comment %} <script src={% static 'assets/js/demo/dashboard.js' %}></script>  {% endcomment %}
		
	<script>
		$(document).ready(function() {
			var today = new Date();
			var tomorrow = new Date();
			tomorrow.setDate(tomorrow.getDate() + 1); 
			
			var formattedToday = today.toISOString().split('T')[0];
			$('#date_applied').val(formattedToday);
			
			$('#start_date').datepicker({
				format: 'yyyy-mm-dd',
				autoclose: true,
				startDate: today, 
			});
			
			$('#end_date').datepicker({
				format: 'yyyy-mm-dd',
				autoclose: true,
				startDate: tomorrow, 
			});
			
			$('#start_date, #end_date').change(function() {
				calculateDaysAndResumption();
			});
			
			function calculateDaysAndResumption() {
				var startDate = $('#start_date').datepicker('getDate');
				var endDate = $('#end_date').datepicker('getDate');
			
				if (startDate && endDate) {
					var daysDiff = Math.ceil((endDate - startDate) / (24 * 60 * 60 * 1000));
			
					$('#Num_of_days').val(daysDiff);
			
					var nextDay = new Date(endDate);
					nextDay.setDate(nextDay.getDate() + 1);
			
					if (nextDay.getDay() === 0) { // Sunday
						nextDay.setDate(nextDay.getDate() + 2);
					} else if (nextDay.getDay() === 6) { // Saturday
						nextDay.setDate(nextDay.getDate() + 3);
					} else { // Other days
						nextDay.setDate(nextDay.getDate() + 1);
					}
			
					var resumptionDate = nextDay.toISOString().split('T')[0];
					$('#resumption_date').val(resumptionDate);
				}
			}
		});
	
	</script>

</body>
</html>