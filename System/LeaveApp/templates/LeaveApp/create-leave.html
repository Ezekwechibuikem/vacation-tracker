{% extends 'LeaveApp/base.html' %}

<title>Create Leave {% block title %}
    {% endblock %}
</title>

{% block content %}
    <!-- BEGIN content-container -->
	<div class="app-content-padding flex-grow-1 overflow-hidden ps" data-scrollbar="true" data-height="100%" style="height: 100%;">
		<!-- BEGIN breadcrumb -->
		<ol class="breadcrumb float-xl-end">
            <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
			<!-- <li class="breadcrumb-item"><a href="">Home</a></li> -->
			<!-- <li class="breadcrumb-item"><a href="javascript:;">Page Options</a></li> -->
			<li class="breadcrumb-item active">Create</li> 
		</ol>
		<!-- END breadcrumb -->
		<!-- BEGIN page-header -->
		<h1 class="page-header">Leave Request <small>Verify the number of leave entitlement you have as an employee</small></h1>
		<!-- END page-header -->
		<!-- BEGIN panel -->
		<div class="panel panel-inverse">
			<div class="panel-heading">
				<h4 class="panel-title">Leave Request</h4>
				<div class="panel-heading-btn">
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-default" data-toggle="panel-expand"><i class="fa fa-expand"></i></a>
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-success" data-toggle="panel-reload"><i class="fa fa-redo"></i></a>
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-warning" data-toggle="panel-collapse"><i class="fa fa-minus"></i></a>
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-danger" data-toggle="panel-remove"><i class="fa fa-times"></i></a>
                </div>
			</div>
			<!-- BEGIN panel-body -->
            <div class="panel-body">
                <form id="leaveForm" action="{% url 'create-leave' %}" method="POST">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4">
                            <label class="form-label col-form-label col-md-4">Type of leave</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <select class="form-select" id="type_name" name="type_name" data-parsley-required="true" autocomplete="off" onchange="handleLeaveTypeChange()">
                                <option value="" disabled selected>Please choose</option>
                                <option value="Sick">Sick</option>
                                <option value="Annual Leave">Annual Leave</option>
                                <option value="Paternity">Paternity</option>
                                <option value="Maternity">Maternity</option>
                                <option value="Other">Other</option> 
                            </select>
                        </div>
                        <div class="col-lg-8" id="other_leave_container" style="display: none;"> <!-- Hidden by default -->
                            <input class="form-control parsley-validated" name="other_leave" type="text" id="other_leave" autocomplete="off" data-parsley-pattern="#[A-Fa-f0-9]{6}" name="other_leave" placeholder="Name of leave" data-required="true" disabled /> <!-- Disabled by default -->
                        </div>
                        <!-- ... (remaining code) ... -->
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <label for="start-date" class="form-label col-form-label col-md-8">Start Date</label>
                        </div>
                        <div class="col-lg-4">
                            <label for="end-date" class="form-label col-form-label col-md-8">End Date</label>
                        </div>
                        <div class="col-md-4">
                            <label for="total-days" class="form-label col-form-label col-md-4">Number of days</label>
                        </div>
                    </div>
                    <div class="row row-cols-lg-auto g-3 align-items-center">
                        <div class="col-lg-8">
                            <div class="input-group input-daterange" id="datepicker-autoClose" data-date-format="yyyy-mm-dd" data-date-start-date="Date.default">
                                <input type="text" class="form-control" id="start_date" name="start_date" autocomplete="off" placeholder="Start Date" />
                                <span class="input-group-text input-group-addon">to</span>
                                <input type="text" class="form-control" id="end_date" name="end_date" autocomplete="off" placeholder="End Date" />
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control parsley-validated" type="text" id="Num_of_days" name="Num_of_days" placeholder="Number of days" data-required="true" readonly/>
                        </div>
            
                    </div>
                    <div class="row">
                        <div class="col-lg-8">
                            <label for="resumption-date" class="form-label col-form-label col-md-8">Resumption Date</label>
                        </div>
                        <div class="col-lg-4">
                            <label for="entitlement" class="form-label col-form-label col-md-8">Entitlement</label>
                        </div>
                    </div>
                    <div class="row row-cols-lg-auto g-3 align-items-center">
                        <div class="col-lg-8">
                            <input class="form-control parsley-validated" type="text" id="resumption_date" name="resumption_date" placeholder="Resumption Date" autocomplete="off" data-required="true" readonly />
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control parsley-validated" type="text" id="entitlement" name="entitlement" placeholder="Staff Entitlement" autocomplete="off" data-required="true"  readonly />
                        </div>
                    </div>
            
                    <div class="col-lg-12">
                        <label for="resumption-date" class="form-label col-form-label col-md-8">Reason(s) for leave<small>if necessary</small></label>
                    </div>
            
                    <div class="panel-body p-0">
                            <textarea class="textarea form-control" id="comments" placeholder="Enter text ..." rows="12"></textarea>
                    </div>
                    
                    <div class="col-lg-12" style="margin-top: 20px;">
                        <div class="col-md-12 text-end"> 
                            <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#confirmModal">Cancel</button> 
                            <!-- Button to submit form -->
                            <button type="button" class="btn btn-success" id="submitButton">Submit</button> 
                        </div>
                    </div>
                </form> 
            </div>
		</div>
        <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmModalLabel">Confirm Request</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Are you sure you wish to submit?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> 
                        <!-- Button to submit form -->
                        <button type="submit" class="btn btn-success" id="confirmButton">Submit</button> 
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %} 



