{% extends 'LeaveApp/base.html' %}
{% load static %}
<title>Create Leave {% block title %}
    {% endblock %}
</title>

{% block content %}
    <!-- BEGIN content-container -->
	<div class="app-content-padding flex-grow-1 overflow-hidden ps" data-scrollbar="true" data-height="100%" style="height: 100%;">
		<!-- BEGIN breadcrumb -->
		<ol class="breadcrumb float-xl-end">
			<li class="breadcrumb-item"><a href="">Home</a></li>
			<!-- <li class="breadcrumb-item"><a href="javascript:;">Page Options</a></li>
			<li class="breadcrumb-item active">Page with Footer</li> -->
		</ol>
		<!-- END breadcrumb -->
		<!-- BEGIN page-header -->
		<h1 class="page-header">Update Details <small>page still under construction and HR can only see this</small></h1>
		<!-- END page-header -->

		<!-- BEGIN panel -->
		<div class="panel panel-inverse">
			<div class="panel-heading">
				<h4 class="panel-title">Profile</h4>
				<div class="panel-heading-btn">
					<a href="javascript:;" class="btn btn-xs btn-icon btn-default" data-toggle="panel-expand"><i class="fa fa-expand"></i></a>
					<a href="javascript:;" class="btn btn-xs btn-icon btn-success" data-toggle="panel-reload"><i class="fa fa-redo"></i></a>
					<a href="javascript:;" class="btn btn-xs btn-icon btn-warning" data-toggle="panel-collapse"><i class="fa fa-minus"></i></a>
					<a href="javascript:;" class="btn btn-xs btn-icon btn-danger" data-toggle="panel-remove"><i class="fa fa-times"></i></a>
				</div>
			</div>
			<div class="panel-body">
                <form id="myForm" method="post" action="{% url 'update-emp' %}">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4">
                            <label class="form-label col-form-label col-md-4"><h4>DEPARTMENTS</h4></label>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label col-form-label col-md-4"><h4>UNIT</h4></label>
                        </div>
                       
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                        <!-- First dropdown for selecting department -->
                            <select class="form-select" id="departmentDropdown" name="department" autocomplete="off" data-parsley-required="true" onchange="loadUnits()">
                                <option value="" disabled selected>Select Department</option>
                                <option value="Health Informatics">Health Informatics</option>
                                <option value="Survey">Survey</option>
                                <option value="M & E">M & E</option>
                                <option value="Surveillance">Surveillance</option>
                                <option value="Data Science">Data Science</option>
                                <option value="Quality Improvement">Quality Improvement</option>
                            </select>
                        </div>
                        <div class="col-lg-4">
                        <!-- Second dropdown for listing units -->
                            <select class="form-select" id="unitDropdown" name="unit" autocomplete="off" data-parsley-required="true">
                                <option value="" disabled selected>Select Unit</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <label class="form-label col-form-label col-md-4"><h4>LEVEL</h4></label>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label col-form-label col-md-8"><h4>NO OF LEAVE ALLOCATED</h4></label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4" style="display: inline-block;"> 
                            <select class="form-select" id="staffLevelDropdown" name="rank" onchange="loadEntitlement()" autocomplete="off" data-parsley-required="true">
                                <option value="" disabled selected>Staff Level</option>
                                <option value="Director">Director</option>
                                <option value="Deputy Director">Deputy Director</option>
                                <option value="H.O.D">H.O.D</option>
                                <option value="Staff">Staff</option>
                                <option value="Adhoc">Adhoc</option>
                            </select>
                        </div> 
                    
                        <div class="col-lg-4" style="display: inline-block;"> 
                            <input class="form-control parsley-validated" type="text" id="entitlementTextField" name="days_allocated" placeholder="Total" data-required="true" readonly/>
                        </div>
                    </div>
                    
                    <div class="col-lg-12" style="margin-top: 20px;">
                        <div class="col-md-12 text-end"> 
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Submit</button>
                        </div>
                    </div>
                </form>
			</div>
		</div>
    </div>
		<!-- END panel -->
    <div class="ps__rail-x" style="left: 0px; bottom: 0px;"><div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps__rail-y" style="top: 0px; right: 0px;"><div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div>
	<div class="ps__rail-x" style="left: 0px; bottom: 0px;"><div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps__rail-y" style="top: 0px; right: 0px;"><div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div>
	<!-- END content-container -->

    <!-- Bootstrap Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Confirm Submission</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Are you sure you wish to submit?
                </div>
                <div class="modal-footer">
                    <!-- Close button -->
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <!-- Submit button -->
                    <button type="submit" class="btn btn-primary" id="confirmSubmit">Submit</button>
                </div>
            </div>
        </div>
    </div>
   
{% endblock %}